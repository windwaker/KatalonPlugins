{"openapi":"3.0.1","info":{"title":"DDPersonPolicy","description":"Person Policy service for DD","contact":{"name":"EI Support Distribution Group","email":"EI_Support_dg@vhi.ie"},"version":""},"servers":[{"url":"http://localhost:8080","description":"local - localhost"},{"url":"https://api.ci.vhi.ie","description":"CI - Continuous Integration"},{"url":"https://api.pit.vhi.ie","description":"PIT - Public Interface Testing"},{"url":"https://api.preprod.vhi.ie","description":"PreProd - Pre-Production"}],"security":[{}],"tags":[{"name":"Corporate API","description":"APIs for retrieving details from Corporate tables."},{"name":"Customer API","description":"APIs for retrieving Customer details."},{"name":"Customer Roles API","description":"APIs for retrieving Customer roles details."},{"name":"Policy Roles API","description":"APIs for retrieving Customer policy roles."}],"paths":{"/v1/persons/{giosPartnerId}":{"get":{"tags":["Customer API"],"summary":"This API will return person base details for a person such as name, date of birth, gender, etc.","description":"## Synopsis\r\n\r\nGiven a valid **giosPartnerId**, this API will return the details for the matching person in the back-end system.\r\n\r\nThe API accepts an optional parameter which can influence the amount of information returned. Logically, requesting\r\nfurther information will increase the load and the response times.\r\n\r\n### Parameters\r\n\r\n* **includeContacts** (default true), when true, further back-end procedures are called to also return the person's\r\n  current address and contact information. This is defaulted to true as it is expected to be the typical use-case for\r\n  the API that the client will require this information.\r\n","operationId":"getCustomerByGiosPartnerId","parameters":[{"name":"giosPartnerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"includeContacts","in":"query","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"406":{"description":"Not Acceptable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"405":{"description":"Method Not Allowed","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorsView"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}}}}},"/v1/groupschemes/{schemeId}":{"get":{"tags":["Corporate API"],"summary":"This API will return base scheme details by corporate scheme Id.","description":"## Synopsis\r\n\r\nGiven a valid **schemeId**, this API will return the details for the matching corporate scheme in the back-end system.\r\n\r\n### Parameters\r\n\r\n* **effectiveDate** (default _today_). Used to retrieve scheme details that are/were effective on a specific date.\r\n* **includeContacts** (default _true_). When true, further back-end procedures are called to also return the Web VHI\r\n  contact's address and contact information for the current scheme. This is defaulted to true as it is expected to be\r\n  the typical use-case for the API that the client will require this information.","operationId":"getScheme","parameters":[{"name":"schemeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"effectiveDate","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"includeContacts","in":"query","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"406":{"description":"Not Acceptable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"405":{"description":"Method Not Allowed","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorsView"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupScheme"}}}}}}},"/v1/customers/{id}":{"get":{"tags":["Customer API"],"description":"## Synopsis\r\n\r\nGiven a valid **id**, this API will return the details for the matching customer in the back-end system.\r\n\r\nThe API accepts an optional parameter which can influence the amount of information returned. Logically, requesting\r\nfurther information will increase the load and the response times.\r\n\r\n### Parameters\r\n\r\n* **includeContacts** (default true), when true, further back-end procedures are called to also return the person's\r\n  current address and contact information. This is defaulted to true as it is expected to be the typical use-case for\r\n  the API that the client will require this information.\r\n","operationId":"getCustomerById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"includeContacts","in":"query","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"406":{"description":"Not Acceptable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"405":{"description":"Method Not Allowed","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorsView"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}}}}},"/v1/customers/{customerId}/roles":{"get":{"tags":["Customer Roles API"],"summary":"This API will return customer roles","description":"## Synopsis\r\n\r\nGiven a valid **customerId**, this API will return the details for the matching customer roles in the back-end system.\r\n\r\nThe API accepts optional parameters which can influence the amount of information returned. Logically, requesting\r\nfurther information will increase the load and the response times.\r\n\r\n### Parameters\r\n\r\n* **effectiveFrom** - Optional. The effective from date in ISO Short date format.\r\n* **effectiveTo** - Optional. The effective to date in ISO Short date format.\r\n* **objectType** - Optional. POLICY for policy. CATEGORY for Collection Reference\r\n* **objectId** - Optional. Integer value for Policy, CA or ET.\r\n* **roleType** - Optional. The role type such as PH for Policy Holder, INS for Insured, PAY for Payer, and OWNER for\r\n  Customer Account owner\r\n\r\nThe **effectiveFrom** and **effectiveTo**  parameters have to be either both provided, or none of them. If only one of\r\nthem is provided in the request, 400 Bad Request error will be returned by the service.\r\n\r\nThe **effectiveFrom** (if provided) has to be before or equals to the **effectiveTo**. If it's not, 400 Bad Request\r\nerror will be returned by the service. ","operationId":"getCustomerRoles","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"effectiveFrom","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"effectiveTo","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"objectType","in":"query","required":false,"schema":{"type":"string"}},{"name":"objectId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"roleType","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"406":{"description":"Not Acceptable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"405":{"description":"Method Not Allowed","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorsView"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionModelCustomerRole"}}}}}}},"/v1/customers/{customerId}/policies/{policyId}/roles":{"get":{"tags":["Policy Roles API"],"summary":"This API will return policy role details","description":"## Synopsis\r\n\r\nGiven a valid **customerId** and **policyId**, this API will return the policy roles for the matching insured customer\r\nin the back-end system.\r\n\r\nThe API accepts optional parameters which can influence the amount of information returned. Logically, requesting\r\nfurther information will increase the load and the response times.\r\n\r\n### Parameters\r\n\r\n* **effectiveFrom** - Optional. The effective from date in ISO Short date format.\r\n* **effectiveTo** - Optional. The effective to date in ISO Short date format.\r\n* **roleType** - Optional. The role type such as PH for Policy Holder, INS for Insured\r\n\r\nThe **effectiveFrom** and **effectiveTo**  parameters have to be either both provided, or none of them. If only one of\r\nthem is provided in the request, 400 Bad Request error will be returned by the service.\r\n\r\nThe **effectiveFrom** (if provided) has to be before or equals to the **effectiveTo**. If it's not, 400 Bad Request\r\nerror will be returned by the service. ","operationId":"getPolicyRoles","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"policyId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"effectiveFrom","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"effectiveTo","in":"query","required":false,"schema":{"type":"string","format":"date"}},{"name":"roleType","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"406":{"description":"Not Acceptable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"405":{"description":"Method Not Allowed","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorsView"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionModelCustomerRole"}}}}}}}},"components":{"schemas":{"ApiErrorResponse":{"title":"ApiErrorResponse","type":"object","properties":{"status":{"type":"integer","description":"Status","format":"int32"},"errorCode":{"type":"string","description":"Error Code"},"message":{"type":"string","description":"Message"},"devMessage":{"type":"string","description":"Dev Message"}},"description":"ApiErrorResponse"},"ApiErrorsView":{"title":"ApiErrorsView","type":"object","properties":{"status":{"type":"integer","description":"Status","format":"int32"},"errorCode":{"type":"string","description":"Error Code"},"message":{"type":"string","description":"Message"},"devMessage":{"type":"string","description":"Dev Message"},"fieldErrors":{"type":"array","description":"Field Errors","items":{"$ref":"#/components/schemas/ApiFieldError"}},"globalErrors":{"type":"array","description":"Global Errors","items":{"$ref":"#/components/schemas/ApiGlobalError"}}},"description":"ApiErrorsView"},"ApiFieldError":{"title":"ApiFieldError","type":"object","properties":{"field":{"type":"string","description":"Field"},"code":{"type":"string","description":"Code"},"rejectedValue":{"type":"object","description":"Rejected Value"},"message":{"type":"string","description":"Message"}},"description":"ApiFieldError"},"ApiGlobalError":{"title":"ApiGlobalError","type":"object","properties":{"code":{"type":"string","description":"Code"},"message":{"type":"string","description":"Message"}},"description":"ApiGlobalError"},"Address":{"title":"Address","type":"object","properties":{"addressLine1":{"type":"string","description":"Address Line 1","example":"123 Sesame St."},"addressLine2":{"type":"string","description":"Address Line 2","example":"Tinsel Town"},"addressLine3":{"type":"string","description":"Address Line 3","example":"Line 3"},"addressLine4":{"type":"string","description":"Address Line 4","example":"Line 4"},"addressLine5":{"type":"string","description":"Address Line 5","example":"Line 5"},"county":{"type":"string","description":"County","example":"KILKENNY"},"postcode":{"type":"string","description":"Postcode","example":"R95 WKK6"},"countryCode":{"type":"string","description":"Country Code","example":"IE"},"country":{"type":"string","description":"Country","example":"Republic of Ireland"}},"description":"Address"},"Customer":{"title":"Customer","type":"object","properties":{"id":{"type":"integer","description":"Id (internal)","format":"int64","example":123},"personId":{"type":"integer","description":"Person Id","format":"int64","example":1234567},"reference":{"type":"string","description":"Reference","example":"PARTNER /1234567"},"firstName":{"type":"string","description":"First Name","example":"Joe"},"middleName":{"type":"string","description":"Middle Name","example":"Bob"},"surname":{"type":"string","description":"Surname","example":"Bloggs"},"titleCode":{"type":"string","description":"Title Code","example":"MR"},"title":{"type":"string","description":"Title","example":"Mr"},"genderCode":{"type":"string","description":"Gender Code","example":"M"},"gender":{"type":"string","description":"Gender","example":"Male"},"dateOfBirth":{"type":"string","description":"Date Of Birth","format":"date","example":"1963-11-11"},"age":{"type":"integer","description":"Age","format":"int32","example":40},"dateOfDeath":{"type":"string","description":"Date Of Death","format":"date","example":"1963-11-11"},"dateOfAdoption":{"type":"string","description":"Date Of Adoption","format":"date","example":"1963-11-11"},"countryOfResidenceCode":{"type":"string","description":"Country Of Residence Code","example":"IE"},"countryOfResidence":{"type":"string","description":"Country Of Residence","example":"Republic of Ireland"},"countryOfTaxationCode":{"type":"string","description":"Country Of Taxation Code","example":"IE"},"countryOfTaxation":{"type":"string","description":"Country Of Taxation","example":"Republic of Ireland"},"memberClassification":{"type":"string","description":"Member Classification","example":"STAFF"},"onlineDocumentsNotification":{"type":"string","description":"Online Documents Notification","example":"EMAIL_SMS"},"enhancedMidwifeService":{"type":"boolean","description":"Eligible for Enhanced Midwife service","example":false},"offProductServices":{"type":"boolean","description":"Off-Product services are available","example":false},"snapAndSendClaimant":{"type":"boolean","description":"Eligible to be a Snap and Send Claimant","example":false},"onlineDoctorUnlimited":{"type":"boolean","description":"Online Doctor Unlimited","example":false},"prospectPartner":{"type":"boolean","description":"Prospect Indicator","example":false},"address":{"$ref":"#/components/schemas/Address"},"email":{"type":"string","description":"Email Address","example":"someone@somewhere.com"},"mobile":{"type":"string","description":"Mobile Number","example":"0831234567"},"homePhone":{"type":"string","description":"Home Phone Number","example":"017654321"},"workPhone":{"type":"string","description":"Work Phone Number","example":"017654321"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"Link":{"type":"object","properties":{"rel":{"type":"string"},"href":{"type":"string"},"hreflang":{"type":"string"},"media":{"type":"string"},"title":{"type":"string"},"type":{"type":"string"},"deprecation":{"type":"string"},"profile":{"type":"string"},"name":{"type":"string"}}},"Category":{"title":"Category","type":"object","properties":{"categoryId":{"type":"integer","description":"Category Id","format":"int64","example":85937},"name":{"type":"string","description":"Category Name","example":"CPPL1 & Dental 100% Emp,Sp, Dom Ptnrs, Deps."},"webAccess":{"type":"boolean","description":"Web Access","example":false},"webCategoryName":{"type":"string","description":"Web Category Name","example":"Directors"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}},"description":"Categories"},"GroupScheme":{"title":"GroupScheme","type":"object","properties":{"id":{"type":"integer","description":"Corporate Scheme Id","format":"int64","example":13},"schemeId":{"type":"integer","description":"Gios Scheme Id","format":"int64","example":7418},"reference":{"type":"string","description":"Reference","example":"0000003587"},"schemeDate":{"type":"string","description":"Scheme Date","format":"date","example":"1963-11-11"},"name":{"type":"string","description":"Scheme Name","example":"Workday"},"schemeRenewalDate":{"type":"string","description":"Scheme Renewal Date","format":"date","example":"1963-11-11"},"policyRenewalDate":{"type":"string","description":"Policy Renewal Date","format":"date","example":"1963-11-11"},"webAccess":{"type":"boolean","description":"Web Access Indicator","example":false},"webRenewalFrom":{"type":"string","description":"Web Renewal From Date","format":"date","example":"1963-11-11"},"webRenewalTo":{"type":"string","description":"Web Renewal To Date","format":"date","example":"1963-11-11"},"webSchemeName":{"type":"string","description":"Web Scheme Name","example":"Workday"},"onlineDoctor":{"type":"boolean","description":"Online Doctor Indicator","example":false},"enhancedMidwifeService":{"type":"boolean","description":"Enhanced Midwife service is offered","example":false},"offProductServices":{"type":"boolean","description":"Off-Product services are available","example":false},"webCustomEnrolment":{"type":"boolean","description":"Web Custom Enrolment Indicator","example":false},"groupId":{"type":"integer","description":"Group Id","format":"int64","example":7417},"concierge":{"type":"boolean","description":"Concierge Indicator","example":false},"categories":{"type":"array","description":"Categories","items":{"$ref":"#/components/schemas/Category"}},"webVhiContact":{"$ref":"#/components/schemas/SchemeContact"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"SchemeContact":{"title":"SchemeContact","type":"object","properties":{"customerId":{"type":"integer","description":"Customer Id","format":"int64","example":123},"address":{"$ref":"#/components/schemas/Address"},"email":{"type":"string","description":"Email Address","example":"someone@somewhere.com"},"mobile":{"type":"string","description":"Mobile Number","example":"0831234567"},"homePhone":{"type":"string","description":"Home Phone Number","example":"017654321"},"workPhone":{"type":"string","description":"Work Phone Number","example":"017654321"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}},"description":"Web Vhi Contact number if available"},"CollectionModelCustomerRole":{"type":"object","properties":{"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}},"content":{"type":"array","items":{"$ref":"#/components/schemas/CustomerRole"}}}},"CustomerRole":{"title":"CustomerRole","type":"object","properties":{"objectTypeCode":{"type":"string","description":"Object Type Code","example":"P"},"objectType":{"type":"string","description":"Object Type","example":"Policy"},"objectId":{"type":"integer","description":"Object ID","format":"int64","example":3386325},"objectReference":{"type":"string","description":"Object Reference","example":"0003151511"},"roleTypeCode":{"type":"string","description":"Role Type Code","example":"PH"},"roleType":{"type":"string","description":"Role Type","example":"Policy Holder"},"effectiveFrom":{"type":"string","description":"Effective From","format":"date","example":"1963-11-11"},"effectiveTo":{"type":"string","description":"Effective To","format":"date","example":"1963-11-11"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}}},"responses":{"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}}},"securitySchemes":{"OAuth2":{"type":"oauth2","flows":{"implicit":{"authorizationUrl":"https://api.pit.vhi.ie/auth/oauth/v2/authorize","scopes":{"read":"Grants read access","write":"Grants write access","admin":"Grants access to admin operations"}}}}}}}